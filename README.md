# PROGRESS
#### Video Demo:  https://youtu.be/_OT9i6LBoAo

#### **Description**: For my CS50 final project I have created a web app centered around fitness.I used html, css and javascript for the front-end, python and sqlite3 for the back-end.
#### **Why I made this**: For a while I used an app to track my workouts, but it required me to pay for some of the features that I wanted, so I decided to create my own app, that has those features for free and also adds nutrition to the mix.
#### **Features of the app**: The app is composed of 4 main features: Creating workouts, Creating templates(a blueprint for a workout), Adding meals and food to a diet and Seeing progress in the form of graphs. There is also the index page about which I will talk about in a second. Now I will discuss about each one in greater detail.

#### **Index page/Home**. On the index page, the user can see a few things about them:Their username, the number of the workouts they have completed, their strongest lift, their true one rep max and a graph presenting the progress of this strongest lift. I also added a background image for the index page to give the app a different look.

##### Database used for index: I created a table that stores the names of the exercises the user performed, for each exercise a list with their best sets per workout, the max of the list and the dates of the workouts in which the exercise was performed.

##### Implementation of index page: I select from the database the number of workouts performed and the information, described above, about the best exercise. After I extract the data, I send it to the front-end, where it's displayed in the format described in "Index page/Home" section. With the list of workout dates and the list of the user's best sets for this "strongest lift", a chart is created .

#### **Workouts feature**. This contains a page that gives user the ability to start a new workout and to see their past workouts briefly, a page that takes a chosen past workout and gives more details about it and a page that's all about the "new workout" that the user started.

##### Database used for workouts: For this I have created 4 tables:  the 'workouts' table, which stores the start date, the duration, the time passed and the name of the workout(as well as the id of the user), the "exercises" table, which stores the number of sets and the name of the exercises performed in each of the workouts, the "sets" table, which contains the set number, the weight lifted and the number of reps, again, for all the exercises performed,and there is also "exercises_info" table which contains information about the exercises created by the user.

##### Implementation of workouts page: At the top of the page(or close to it), there is a form containing an input field for the name of the workout and and a 'start' button, which is disabled if there is nothing inside of the input field. Below the form is a bootstrap table, that displays brief information about all workouts performed by the user until now, clicking any of them displays more information about the chosen workout. Submitting the form above sends the name of the workout to the back-end where it is stored inside the database(if there is a workout ongoing, a pop-up appears telling the user that they should finish their workout, if the user want to create a workout despite the pop-up message, the ongoing workout gets discarded and the new workout is created).

##### Implementation of new_workout page: Now that a workout has started, the user can add(and create) exercises and sets to it, as well as delete sets or exercises and even see more information about exercises of their choice. On the upper side of the page the workout name and the duration(so far) are shown(and the timer updates dinamically), below are two buttons: one ends the workout, the other discards the workout, below that we have an input field for the name of the exercise, a 'add exercise' button, 'create button' and 'info' button. Everytime the user writes something inside of the input field suggestions appear (the value of the input field is searched inside the database of an API, as well as inside the 'exercise_info' database which contains the exercises they created, and what is found is shown as suggestions), the user can either choose one of the suggestions and add it to the workout, or if the name of the exercise is not present in the suggestions, they can create their own exercise(clicking on the 'create exercise' button displays a select list that contains different muscle groups and a text area for possible instructions or notes, after the user selects a muscle group they can press 'add exercise' and the exercise is added both to the workout and to the 'exercise_info' table). If the exercise from the input field is inside the database the user can also press 'info' and a new page is loaded showing more information about the exercise(name, muscle group and instructions as well as a 'add to workout' button in case the exercise is only searched, but not in the current workout). After adding an exercise a bootsrap table is created dinamically(with js, without reload of the page), the header row of the table displaying the name of the exercise, weight, reps, a "delete exercise" button and another 'info' button, the rest of the rows in the table represent the sets(set number, input field for weight, input field for reps, a "delete_set" button and a checkbox). Just below the table newly created is a 'add set' button which dinamically adds a set to the table. Each exercise and set are inserted immediately inside the 'exercise' and 'sets' tables with the **power of ajax**(without reloading the page). But just creating the exercise and adding sets is not enough, the user needs to save their sets in order to save the information about the sets(weight and reps), the user cna't end the workout until all the checkboxes are checked. The "delete" buttons do exactly as the name implies, again without reloading, using ajax requests and deleting tables(or rows) with javascript(If there is only one set in the exercise the user can't delete it).

##### Implementation of past workouts page: When the user clicks on any of the table rows from the workouts page they will be redirected to a new page which presents the chosen workout in more detail. The exercises performed will, again, be displayed in the form of tables with their rows as the sets, which contain the weight lifted and the reps. On the top of the page will be the name of the workout and a 'perform again' button which gives the user the possibility of performing the workout again. If there is an ongoing workout, a pop-up appears telling the user exactly that and giving the options of continuing their workout(which redirects them to their workout), or to start a new one (discarding the ongoing one). Everything is selected from the database using the id of the workout and then sent to the front-end to be displayed.

#### **Templates feature**: I will not spend to much on this because it is very similar to workouts, the idea of the feature being that is just a blueprint for future workouts, that means that we also have a "templates" page, "new_template" page and "past templates" page, just like we had in workouts. The most significant difference being in 'new_templates' because the timer is gone, discarding is not an option(but can be done on the 'templates' page after the templates gets created), and the user can't add weight and reps(they will be shown as disabled input fields) and in 'templates' page the templates can't have the same name.

#### **Charts feature**: This was mostly why I created the app in the first place(weird, I know), because even though I could track my workouts with the app that I was using, I could not see my progress with charts(I would have to pay for that). As the name implies this feature gives the ability of seing a chart about an exercise chosen by the user as well as a chart showing the progress of their diet journey.

##### Exercise chart: On the top of the page the user is informed about how the data points are calculated(using their workout prs) and below that is a form containing an input field for the exercise they want to see, which was implemented as a suggestions list(only including the exercises the user performed so far), and a 'see chart' button which sends the form(disabled until the user choses an exercises they have performed). After the form is submitted the data is taken to the back-end and used to search inside the 'lifts_info' table, extracting the dates and pr lists that will be used for the graph.

##### Weight chart: This will give spoilers about the last feature of this app(calories). Everyday, the user can input their weight, which will be inserted inside the 'diet_days' table(if the user does not input anything in any day, the database will still be populated using the last weight inserted by the user). The dates and weights are then taken from the database and displayed in the form of a graph.

#### **Calories feature**: This is essentially a calorie tracker. This has two stages: calorie calculation(and goal setting) and calorie tracking. When the user completes the first stage, it will not be displayed again and will be replaced by the second stage. This feature uses 7 pages: 'calories'(main page), 'edit_meal', 'add_food', 'food_info', 'journal', 'search_food' and 'see_diet'.

##### Database used for Calories: 5 tables were used: 'diet_days', 'meals', 'food', 'food_info' and 'diet_goals'. I will briefly discribe what each contains. 'Diet_days' contains information about the weight inputed by the user(as discussed at charts), the date and the id of the user. 'Meals' contains the name of the meal and the id of the diet day(think of how exercises and workouts worked). 'Food' contains information about the food inserted(name, calories, protein, carbs, fats) and the id of the meal(think of how sets was for exercises). 'Food_info' contains information about the food 'created' by the user(same information as table 'food'). 'Diet_goals' keeps track of the user calories and macro nutrients goals.

##### Implementation of Calories page: The first stage is represented by just a few input and select fields(gender, lifestyle, age, height, weight and goal) and a 'calculate' button which sends the information to the python code, calculates using a **magic formula**(from the internet) the amount of calories the person burns in a day and then inserts it inside the 'users' table(together with their goals). After that, the diet goals are calculated(again with a magic formula) and inserted inside the specific table. Everything is then sent to the front-end and the first stage is complete. In the second stage the 'calories' page displays the user's goals in the form of progress bars(a diff progress bar for each goal). Under the progress bars the user is told the remaining number of calories. Even deeper we have an input field for a meal name, a 'add meal' button and a 'journal' button. Below this will be displayed the users meals and the foods for each meal with a 'delete meal' button and the food is also clickable, which redirects the user to 'food_info'. There is also a form containing an input field asking the user about their weight and a 'add weight' button(if the user already inputed their weight for the day a green div with a special message replaces the form), this was talked about more in charts.

##### Implementaion of edit meal, search_food and add_food pages. Each of the meals present in the diet day can be edited(removing and adding food). This page just presents the foods of the meal as a list(again food is clickable) and a form containing an input field for the food the user wants to search as well as a 'search food' button. After the form is submitted to the back-end we send a request to the food API(food_lookup) and, if it's not found, we search inside the 'food_info' table, which stores the foods created by all users using the app. The searched food is displayed as a list containing the names of the foods as hyperlinks to 'food_info' page accompanied by an 'add food' button, and a input field asking the user for the number of grams they want to insert(if the button is pressed but this is empty we tell the user, using an alert, to insert the nr of grams). As a rule I added that the user cannot insert the same food twice in their meal. If the food is not found in any of the databases(API and ours) we give the user the opportunity to create their own food(a big form asking for calories, macronutrients and grams), this represents the 'add_food' page. After all input fields are completed and the form is submitted, the information is inserted into 'food_info' table.

##### Implementation of food_info page. As I mentioned, the food is clickable and it will redirect the user the this page. At the top of the page is the name of the food, just below it stands the number of calories, and below that is a pie-chart representing the macro nutrients(all this information is per 100g). After the chart is an 'add to meal' button and an input field asking for the number of grams they want of this food(the button is disabled if the food is alredy inside the meal). The food is searched into the API and, if not found, into our database. We extract the information about the food(from either of those databases) and we send it to the front-end to display it as a pie-chart.

##### Implementaion of journal and see_diet pages: 'Journal' page displays all of the user's diet_days as a table with colored rows(green if the user met the calorie goal, red if not). Each row of the table contains a 'see diet' button which gives more detail about the diet days (just like workouts and past_workouts). 'See_diet' page displays the same information as calories, again, using progress bars and meals with lists of their food(again clickable). We select all this information from 'diet_days','meals' and 'food' tables using the id of the chosen diet_day.

#### Implementation of Log_in, register, new_pass pages: 'Log_in' page is just a form asking for the name and password of the user(I set an interdiction against using spaces and the password needs to contain letters, digits and symbols). The form submits the information to the back-end where it gets searched inside of the database(dehashing the password with a python library). 'Register' page is the same as 'log_in', only that a confirmation field appears as well(for the password). The form submits the information to the back-end and it gets inserted inside the 'users' table(hashing the password with a library). And finally, 'new_pass' page let's the user change their password(it's just like register with the restriction of new password can't be old password).

### I'm grateful for taking this course to both Harvard University and EDX, for everything I have learned would have been much harder(and less enjoyable) without their help.

## I am Lucan Cristian Stefan from Romania and this was Progress, my CS50 final project.
